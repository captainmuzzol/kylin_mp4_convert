# 🎬 国产系统音视频解码工具

## 📝 简介

一个用于专网环境的音视频解码工具，主要用于解决特定格式的公安视频文件无法在普通播放器中播放的问题。该工具可以将这些特殊格式的视频文件转换为标准的MP4格式，同时支持边转换边预览功能。

## 开发环境
- 操作系统：银河麒麟系统2303（Arm64架构）

## ✨ 主要功能

- 🔄 将特殊格式的（如公安视频文件）转换为标准MP4格式
- 🔊 支持音频文件转换为MP3格式
- 👁️ 边转换边预览功能，无需等待转换完成即可查看视频内容
- 📊 实时显示转换进度
- 📂 自动备份已存在的同名文件
- 🖱️ 简单的拖放操作界面

## 🔧 安装要求

### 系统要求

- 支持麒麟系统（Arm64架构）
- 其他Linux系统、Windows或macOS也可运行

### 依赖项

- Python 3.6+
- PyQt5
- FFmpeg（必须安装并添加到系统路径）

### 安装步骤

1. 安装Python 3.6或更高版本
2. 安装PyQt5：`pip install PyQt5`
3. 安装FFmpeg：
   - 麒麟系统：`sudo apt-get install ffmpeg`
   - 其他系统请参考[FFmpeg官方网站](https://ffmpeg.org/download.html)
4. 下载本工具源代码或可执行文件

## 🚀 使用方法

1. 启动应用程序
2. 将需要转换的视频文件拖放到应用程序的指定区域
3. 程序会自动开始转换，并在上方区域预览视频内容
4. 转换完成后，生成的MP4文件会保存在原视频文件的相同目录下

## 📋 注意事项

- 如果目标文件夹中已存在同名的MP4文件，原文件会被自动备份到同目录下的backup文件夹中
- 转换过程中请勿关闭程序，否则可能导致转换失败
- 如遇到「ffmpeg未安装」的错误提示，请确保已正确安装FFmpeg并添加到系统路径

## 🔍 常见问题

### 程序启动时提示「ffmpeg未安装或未添加到系统路径」

请确保已安装FFmpeg并正确配置环境变量。可以在命令行中输入`ffmpeg -version`检查是否正确安装。

### 转换过程中程序崩溃

可能是由于视频文件损坏或格式特殊导致。请尝试使用最新版本的FFmpeg，或联系技术支持。

### 转换后的视频没有声音

可能是原视频没有音轨，或者音频编码不兼容。程序默认使用AAC编码音频，兼容大多数播放器。

## 🔄 更新日志

### v1.0.0
- 初始版本发布
- 支持视频转MP4和音频转MP3
- 实现边转换边预览功能

### v1.1.0
- 添加文件备份功能
- 改进错误处理
- 优化用户界面

## 👨‍💻 技术支持

如有任何问题或建议，请联系：
- 技术支持：许木只
- 测试系统：Arm64麒麟系统

## 计划
-边转边播还是没有实现，我在银河麒麟可以通过这个命令实现边转边播，你不妨也试试这个：“ffmpeg -i 输入文件.nsf -c:v libx264 -c:a aac -f matroska - | ffplay -”（此处的输入文件.nsf是举例），另外，我希望右侧预览区域不要启动软件就显示，而是当我点击开始转换（且边转边播命令成功运行时）再弹出来播放.
- 其实也没必要边转边播。直接用ffplay 视频.nsf就可以播放了

## 📄 许可证

本项目采用 Apache License 2.0 许可证。

```
---
